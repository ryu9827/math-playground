# 拆数字功能

## 功能概述

新增了一个"拆数字"（Number Split）的练习模式，帮助用户练习数字的加法分解能力。

## 功能特点

### 1. 题目生成

- 随机生成 3-20 之间的目标数字
- 自动计算该数字的所有可能拆分组合
- 例如：7 可以拆分为 1+6, 2+5, 3+4

### 2. 交互方式

- 为每个可能的组合提供两个输入框
- 用户可以按任意顺序输入数字对
- 输入 3+4 或 4+3 都会被识别为同一组合

### 3. 实时验证

- 当两个输入框都填写完毕后，自动验证
- 正确的组合会在右侧显示绿色对勾 ✓
- 对勾带有弹性动画效果

### 4. 进度追踪

- 显示"已找到 X / 总数"的进度
- 所有组合都找到后显示成功动画
- 自动跳转到下一题按钮

### 5. 成功动画

- 🎉 emoji 图标带弹跳动画
- 绿色渐变背景
- 鼓励文字（中英文）
- "下一题"按钮

## 技术实现

### 核心组件：NumberSplit.tsx

```typescript
interface SplitPair {
	num1: number // 第一个数字
	num2: number // 第二个数字（保证 num1 <= num2）
}
```

### 主要函数

#### `generateNewQuestion()`

- 随机生成 3-20 的目标数字
- 计算所有可能的拆分组合（只保留 a <= b 的标准形式）
- 初始化输入框和验证状态

#### `checkInput(index, num1, num2)`

- 验证用户输入是否正确
- 检查和是否等于目标数字
- 检查是否是正整数
- 检查是否重复输入

#### `handleInputChange(index, field, value)`

- 处理输入框变化
- 自动验证完整的组合
- 更新正确组合集合
- 检查是否全部完成

### 样式特点

#### 卡片设计

- 居中显示的主卡片
- 渐变紫色目标数字展示区
- 清晰的指示文字

#### 输入行

- 每行包含：输入框 + 输入框 = 结果
- 淡紫色背景，hover 时移动效果
- 输入框聚焦时放大并高亮

#### 对勾动画

- 绿色圆形背景
- 旋转弹性出现动画
- 发光阴影效果

#### 响应式

- 移动端适配
- 输入框和文字大小自动调整

## 使用示例

### 场景 1：目标数字 7

可能的组合：

- 1 + 6 = 7 ✓
- 2 + 5 = 7 ✓
- 3 + 4 = 7 ✓

用户需要在 3 行输入框中找出这 3 个组合。

### 场景 2：目标数字 10

可能的组合：

- 1 + 9 = 10
- 2 + 8 = 10
- 3 + 7 = 10
- 4 + 6 = 10
- 5 + 5 = 10

用户需要找出所有 5 个组合。

## 用户体验

### 友好提示

- 清晰的目标数字展示
- 中英文双语支持
- 实时进度显示

### 即时反馈

- 输入完成立即验证
- 正确时立即显示对勾
- 全部完成时显示庆祝

### 流畅操作

- Tab 键可以快速切换输入框
- 支持键盘输入
- 自动进入下一题

## 教育价值

### 数学能力

- 加法分解能力
- 数字关系理解
- 互补数概念

### 认知训练

- 系统性思维
- 完整性检查
- 模式识别

### 适用年龄

- 6-10 岁儿童
- 加法入门学习
- 心算能力训练

## 未来改进方向

1. **难度选择**

   - 简单模式：3-10
   - 中等模式：10-20
   - 困难模式：20-50

2. **提示功能**

   - 显示还差几个组合
   - 提示最小或最大的组合

3. **计时功能**

   - 记录完成时间
   - 最快记录展示

4. **统计功能**

   - 记录完成题数
   - 正确率统计

5. **变体模式**
   - 三个数字的拆分
   - 不等数量拆分（如拆成 3 份）
   - 减法拆分
